<Project>
  <PropertyGroup Condition="'$(IsTestProject)' != 'true'">

	<PackageId>$(MSBuildProjectName)</PackageId>
	<Product>OutWit.Communication</Product>

	<Nullable>enable</Nullable>
	<LangVersion>latest</LangVersion>
	<SignAssembly>False</SignAssembly>
  
    <Authors>Dmitry Ratner</Authors>
	<Company>OutWit</Company>	
	<Copyright>Copyright Â© $([System.DateTime]::UtcNow.Year) Dmitry Ratner</Copyright>

	<PackageProjectUrl>https://witrpc.io/</PackageProjectUrl>
	
	<PublishRepositoryUrl>true</PublishRepositoryUrl>
	<IncludeSymbols>true</IncludeSymbols>
	<SymbolPackageFormat>snupkg</SymbolPackageFormat>
	<EmbedUntrackedSources>true</EmbedUntrackedSources>
	<PackageLicenseExpression>Apache-2.0</PackageLicenseExpression>

	<GeneratePackageOnBuild Condition=" '$(Configuration)' == 'Release' ">true</GeneratePackageOnBuild>

	  <PackageIcon>WitRPC-logo.png</PackageIcon>
	  <PackageReadmeFile>README.md</PackageReadmeFile>

  </PropertyGroup>

	<ItemGroup Condition="'$(TargetFramework)' == 'net10.0' or '$(TargetFramework)' == 'netstandard2.0'">
		<PackageReference Include="Microsoft.SourceLink.GitHub" Version="10.0.102">
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>
	</ItemGroup>

	<ItemGroup Condition="'$(TargetFramework)' == 'net9.0' or '$(TargetFramework)' == 'net8.0'">
		<PackageReference Include="Microsoft.SourceLink.GitHub" Version="10.0.102">
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>
	</ItemGroup>

	<ItemGroup Condition="'$(TargetFramework)' == 'net7.0' or '$(TargetFramework)' == 'net6.0'">
		<PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0">
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>
	</ItemGroup>

	<ItemGroup Condition="'$(IsTestProject)' != 'true'">
		<None Include="LICENSE" Pack="true" PackagePath="\" />
		<None Include="WitRPC-logo.png" Pack="true" PackagePath="\" />
		<None Include="README.md" Pack="true" PackagePath="\" />
		<None Include="NOTICE" Pack="true" PackagePath="\" />
	</ItemGroup>

	<!--<Target Name="PostBuild" AfterTargets="Pack" Condition="'$(Configuration)' == 'Release' AND '$(IsTestProject)' != 'true'">
		<Exec WorkingDirectory="$(TargetDir)" Command="echo D|xcopy &quot;$(TargetDir)*$(TargetName).nupkg&quot; &quot;$(SolutionDir)@NuGet\&quot; /Y/S" />
		<Exec WorkingDirectory="$(TargetDir)" Command="echo D|xcopy &quot;$(TargetDir)*$(TargetName).snupkg&quot; &quot;$(SolutionDir)@NuGet\&quot; /Y/S" />
	</Target>-->
	
</Project>